"use strict";(self.webpackChunk_snowflake_nu_ui=self.webpackChunk_snowflake_nu_ui||[]).push([["66557"],{565371:function(e,t,r){r.d(t,{Q:()=>o});var n=r(286204);r(847345);var i=r(801726),s=r(90373),a=r(423482);let o=(0,i.t)("LinkButton",(e,t)=>{let{use:r,size:i,children:o,buttonProps:l,...c}=e;return c[":hover"]=c[":hover"]||{},c[":hover"].textDecorationLine=c[":hover"].textDecorationLine||"none",(0,n.jsx)(a.r,{ref:t,textDecorationLine:"none",...c,display:"inline-flex",children:(0,n.jsx)(s.zx,{flexGrow:1,...r?{use:r}:{},...i?{size:i}:{},role:"presentation",tabIndex:void 0,...l,children:o})})})},628384:function(e,t,r){r.d(t,{m:()=>i});var n=r(184547);function i(e){return e?n.XW:n.Jk}},757693:function(e,t,r){r.d(t,{D:()=>i});var n=r(184547);function i(e){return e?n.XW:n.rJ}},700323:function(e,t,r){r.d(t,{Fz:()=>H,ZP:()=>z,pY:()=>$,bf:()=>M});var n,i=r(286204),s=r(493076),a=r(173624),o=r(314040),l=r(90373),c=r(514227),u=r(565371),d=r(523371),h=r(887463),g=r(471716),p=r(222182),f=r(242291),E=r(984887),m=r(341319),S=r(867668),A=r(992059),_=r(847345),v=r(645952),U=r(724910),R=r(667680),w=r(483108),I=r(994497),b=r(563965),T=r(946741),y=r(259584),x=r(440741),L=r(746416),O=r(423482),C=r(789115),P=r(797325),k=r(510514);function N(){let{formatMessage:e}=(0,P.Z)(),{getDocsUrl:t}=(0,k.V)();return(0,i.jsxs)(o.g,{display:"flex",flexDirection:"row",alignItems:"stretch",width:"100%",textAlign:"center",fontWeight:600,marginBottom:8,children:[(0,i.jsx)(a.x,{flexGrow:1,textAlign:"left",color:s.Q2.primaryTextColor,children:(0,i.jsx)(v.Z,{id:"Where to find your account identifier"})}),(0,i.jsx)(O.r,{href:t("/user-guide/admin-account-identifier"),target:"_blank","aria-label":e({id:"Learn more about signing in"}),...(0,g.b)(4),...(0,C.J)([0,"-4px","-4px",0]),children:(0,i.jsx)(p.JO,{icon:"help-circle-bold",size:16,color:s.Il.Gray50})})]})}N.displayName="AccountIdentifierHelpSection";var D=((n=D||{}).utm_source="utm_source",n.utm_medium="utm_medium",n.utm_campaign="utm_campaign",n.utm_term="utm_term",n.utm_content="utm_content",n);let F={backgroundColor:s.Il.Gray10,borderRadius:"4px",paddingLeft:"8px",paddingRight:"8px",paddingTop:"4px",paddingBottom:"4px",borderWidth:1,borderStyle:"solid",borderColor:s.Il.Gray30},j=({children:e})=>(0,i.jsx)(a.x,{display:"block",fontSize:14,fontWeight:400,children:e});j.displayName="FormLabel";let B=e=>({value:[e.url,e.appServerUrl].join(","),key:[e.url,e.appServerUrl].join(","),data:e.appServerUrl,multiselectable:!1,label:(0,i.jsx)(o.g,{display:"block",children:(0,i.jsx)(a.x,{display:"block",color:s.Q2.primaryTextColor,fontWeight:"bold",children:e.accountAlias||e.name||e.account})})}),W=e=>{let{account:t,onClick:r}=e;return(0,i.jsx)(o.g,{paddingBottom:8,children:(0,i.jsx)(l.zx,{width:"100%",height:"auto",paddingTop:12,paddingBottom:12,onClick:()=>{r(t.url,t.appServerUrl,t.classicUIUrl)},display:"block",children:(0,i.jsx)(a.x,{display:"block",color:s.Q2.primaryTextColor,fontWeight:"bold",width:"100%",textAlign:"center",children:(0,i.jsx)(c.O,{children:t.accountAlias||t.name||t.account})})})})};W.displayName="AccountButton";class G extends _.PureComponent{storeDidChange(e,t){if("HOSTNAME_VALIDATED"===e&&this.startAuthorizeImmediately){this.startAuthorizeImmediately=!1;let{url:e}=this.state;t.sfAccountValidation.valid(e)&&this.startAuthorize()}}render(){var e;let{isSecondaryUser:t,stores:r,hideFormDialog:n,autofocus:c,intl:m,showSignUp:S}=this.props,{url:A,sfLoginError:_,sfLoginMessage:U,showSignIntoADifferentAccount:R}=this.state,{formatMessage:I}=m,T=I({id:"Account identifier"}),y=null;A.includes("@")?y=I({id:"Enter an account identifier instead of email"}):!1===r.sfAccountValidation.valid(A)&&(y=I({id:"Invalid account identifier"}));let x=[],O={fontWeight:600,fontSize:16,color:s.Q2.primaryTextColor},C=r.user.sortedUniqueLoggedInAccountsArray();x=C.map(e=>(0,i.jsx)(W,{account:e,onClick:this.startRememberedAuthorize},e.userKey));let P=!t&&C.length>4,k=[],D=(r.user,!(0,b.D)());P&&(k=C.slice(3).map(B),x=x.slice(0,3));let G=(0,i.jsx)(u.Q,{marginTop:12,use:"primary",href:`http://signup.snowflake.com/?${M()}`,external:!0,width:"100%",children:(0,i.jsx)(v.Z,{id:"Sign up"})}),z=!t&&C.length>0&&(0,i.jsxs)(o.g,{width:300,margin:"auto",children:[(0,i.jsx)(a.x,{display:"block",width:"100%",textAlign:"center",marginBottom:16,...O,children:(0,i.jsx)(v.Z,{id:"Select an account to sign into"})}),x,P&&(0,i.jsx)(o.g,{marginTop:8,children:(0,i.jsx)(d.Qf,{width:"100%",maxWidth:"100%",marginLeft:0,placeholder:"Other accounts",options:k,value:"",onChange:e=>{let[t,r,n]=e.target.value.split(",");this.startRememberedAuthorize(t,r,n)}})}),R?(0,i.jsx)(w.X,{marginTop:32}):(0,i.jsx)(o.g,{textAlign:"center",paddingTop:24,children:(0,i.jsx)(a.x,{color:s.Q2.secondaryTextColor,size:"small",textDecorationLine:"underline",onClick:()=>{this.setState({showSignIntoADifferentAccount:!0})},cursor:"pointer",role:"button",children:(0,i.jsx)(v.Z,{id:"Sign into a different account"})})})]}),H=(0,i.jsxs)(o.g,{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:24,paddingBottom:"40px",width:"100%",children:[(0,i.jsx)(o.g,{width:300,children:(0,i.jsxs)(h.s,{...(0,g.b)(0),children:[(0,i.jsx)(o.g,{textAlign:"center",marginBottom:8,children:(0,i.jsx)(p.JO,{icon:"snowflake",size:32,color:s.Il.SnowflakeBlue,marginTop:t?"56px":void 0})}),(0,i.jsx)(a.x,{fontSize:"20px",color:s.Q2.primaryTextColor,fontWeight:600,textAlign:"center",marginBottom:"40px",children:"Snowflake"})]})}),_?(0,i.jsxs)(o.g,{width:300,children:[(0,i.jsx)(o.g,{marginBottom:"20px",children:(0,i.jsx)(a.x,{display:"block",fontSize:14,lineHeight:"1.5",textAlign:"center",children:null!=U?U:(0,i.jsx)(v.Z,{id:"Something went wrong, unable to sign in"})})}),(0,i.jsx)(o.g,{children:(0,i.jsx)(l.zx,{autoFocus:!0,use:"primary",width:"100%",onClick:this.onTryAgainClicked,children:(0,i.jsx)(v.Z,{id:"Try again"})})})]}):(0,i.jsxs)(o.g,{children:[z,(0===C.length||R)&&(0,i.jsxs)(o.g,{children:[(0,i.jsxs)(o.g,{width:300,margin:"auto",children:[(0,i.jsx)(f.X,{marginBottom:12,children:(0,i.jsx)(f.X,{textAlign:"center",color:s.Q2.primaryTextColor,children:(0,i.jsx)(j,{children:(0,i.jsx)(v.Z,{id:"Enter your account identifier or account URL"})})})}),(0,i.jsx)(o.g,{marginBottom:16,height:44,children:(0,i.jsx)(E.I,{spellCheck:!1,autoFocus:c,placeholder:T,value:A,onChange:this.onChange,onPaste:this.onPaste,onKeyUp:this.onKeyUp,validation:()=>y,autoComplete:"username"})}),(0,i.jsx)(l.zx,{use:"primary",disabled:0===A.length,onClick:this.startAuthorize,width:"100%",children:(0,i.jsx)(v.Z,{id:"Sign in"})}),(0===C.length||S)&&D&&G,n&&(0,i.jsx)(l.zx,{onClick:n,marginTop:8,width:"100%",children:(0,i.jsx)(v.Z,{id:"Cancel"})})]}),(0,i.jsxs)(o.g,{width:380,marginTop:"40px",children:[(0,i.jsx)(N,{}),(0,i.jsxs)(a.x,{...F,children:["https://",(0,i.jsx)(a.x,{display:"inline",color:s.Il.Green80,children:"<account_identifier>"}),(0,L.I)()]})]})]}),S&&D&&C.length>0&&!R&&(0,i.jsxs)(o.g,{children:[(0,i.jsx)(w.X,{marginTop:32}),G]})]})]});return t?H:(0,i.jsx)(o.g,{width:"100%",children:H})}constructor(e){super(e),this.componentDidMount=()=>{let e=new URLSearchParams(window.location.search);e.get("error")===S.AppsErrorCode.LoginFailed&&(this.setState({sfLoginError:!0,sfLoginMessage:e.get("message")}),window.history.replaceState({},"",window.location.origin))},this.onURLValidate=(e,t=!1)=>{t&&(this.startAuthorizeImmediately=t);let{url:r}=this.state,{stores:{sfAccountValidation:n}}=this.props;n.validateURL(e||r,this.isSecondaryAccount)},this.onIdleInvalidate=()=>{this.forceUpdate()},this.onPaste=e=>{e.clipboardData&&this.onURLValidate(e.clipboardData.getData("text/plain"))},this.onKeyUp=e=>{let{url:t}=this.state;"Enter"===e.key?this.onURLValidate(t,!0):(this.onURLValidateDebounced(t),this.onURLInvalidateDebounced(t))},this.startAuthorize=()=>{let{stores:e}=this.props,{url:t}=this.state,r=e.sfAccountValidation.accountInfo(t);r?r.valid&&this.startAuthorizeURL(r.url,r.appServerUrl,r.classicUIUrl):this.onURLValidate(t,!0)},this.startAuthorizeURL=(e,t,r)=>{var n;let{isSecondaryUser:i,showPopup:s=!1,redirectHome:a}=this.props;(0,T._b)(e,t,r,{isSecondaryUser:i},this.authorizeCallback,s,!a,null===I.U||void 0===I.U||null==(n=I.U.urc)?void 0:n.getWindowId())},this.startRememberedAuthorize=(e,t,r)=>{var n;let{isSecondaryUser:i,showPopup:s=!1,redirectHome:a}=this.props;(0,T._b)(e,t,r,{isSecondaryUser:i},this.authorizeCallback,s,!a,null===I.U||void 0===I.U||null==(n=I.U.urc)?void 0:n.getWindowId())},this.onTryAgainClicked=()=>{this.setState({sfLoginError:!1})},this.onChange=e=>{var t;this.setState({url:null==(t=e.target)?void 0:t.value})};let{sfLoginError:t,isSecondaryUser:r}=this.props;this.state={url:"",sfLoginError:t||!1,showSignIntoADifferentAccount:r||!1},this.startAuthorizeImmediately=!1,this.onURLValidateDebounced=R.D(this.onURLValidate,A.gT.LOGIN_URL_VALIDATION_DEBOUNCE),this.onURLInvalidateDebounced=R.D(this.onIdleInvalidate,A.gT.LOGIN_URL_INVALIDATION_DEBOUNCE),this.isSecondaryAccount=!!e.isSecondaryAccount;let{isSecondaryUser:n,stores:{user:i},shouldSwitchUser:s,hideFormDialog:a,redirectHome:o,onCompleteSignIn:l}=e;this.authorizeCallback=(0,T.hf)({user:i,isSecondaryUser:!!n,shouldSwitchUser:!!s,hideFormDialog:a||m.EI,redirectHome:o||m.EI,onCompleteSignIn:l||m.EI},this.setState.bind(this))}}G.displayName="SignInForm",G=function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a}([(0,y.$)([x.R])],G);let z=(0,U.ZP)(G);function M(){let e=(window.location.pathname||"").split("/"),t=V(e,"listing"),r=V(e,"listings"),n=V(e,"labs"),i=Object.fromEntries(new URLSearchParams(decodeURI(window.location.search)));return i.referrer||(i.referrer=e.includes("marketplace")?"marketplace":"snowsight"),t?i.listing=t:r&&(i.SDM=`provider:${r}`),n&&(i.lab=n),Object.entries(i).map(([e,t])=>`${e}=${t}`).join("&")}let H=()=>window.location.assign(`/?${M()}`);function V(e,t){let r=e.findIndex(e=>e===t);if(-1!==r&&e[r+1])return e[r+1]}function $(e){var t;let r=(t=e,Object.values(D).filter(e=>null!=t[e]).map(e=>`${e}=${t[e]}`).join("&")),n=function(e){var t;if(e.listing)return`/marketplace/listing/${e.listing}`;if(null==(t=e.SDM)?void 0:t.split(":")[1]){let t=e.SDM.split(":")[1];return`/marketplace/listings/${t}`}return"marketplace"===e.referrer?"/marketplace":"openflow"===e.referrer?"/openflow":void 0}(e);return n&&r?`${n}?${r}`:n}},861520:function(e,t,r){r.d(t,{F:()=>c});var n=r(286204),i=r(119214),s=r(314040),a=r(46145),o=r(645952),l=r(700323);let c=({stores:e})=>(0,n.jsx)(i.h,{children:(0,n.jsx)(s.g,{overflowX:"hidden",width:"100%",position:"relative",children:(0,n.jsxs)(s.g,{display:"flex",flexDirection:"row",minHeight:"100vh",height:"100%",alignItems:"center",justifyContent:"center",transitionProperty:"width",transitionDuration:"0.5s",transitionTimingFunction:"ease",role:"main",renderRoot:e=>(0,n.jsx)("main",{...e}),children:[(0,n.jsx)(i.m,{children:(0,n.jsx)(a.a,{children:(0,n.jsx)(o.Z,{id:"Sign in to your account"})})}),(0,n.jsx)(l.ZP,{autofocus:!0,showSignUp:!0,stores:e})]})})});c.displayName="SignInPage"},746416:function(e,t,r){r.d(t,{I:()=>s});var n=r(971638),i=r(563965);function s(){return(0,i.D)()?".snowflakecomputing.cn":(0,n.p)()?".snowflakecomputing.mil":".snowflakecomputing.com"}},666306:function(e,t,r){r.d(t,{P:()=>a});var n=r(700577),i=r(820875),s=r(710296);let a=()=>(0,i.WC)()&&!!localStorage.getItem(s.F.SNOWSIGHT_DEVELOPER_TOOLS)||n.i.UI_ENABLE_UI_PLATFORM_FEATURE_38()},649707:function(e,t,r){r.d(t,{A:()=>i});var n=r(196002);function i(){let e=window.location.hostname;return e.startsWith("ai.snowflake.")||e.startsWith("preprod.ai.snowflake.")||e.startsWith("si-")&&(0,n.r)(e)}},971638:function(e,t,r){r.d(t,{p:()=>n});function n(){return window.location.hostname.endsWith(".mil")}},449628:function(e,t,r){function n(e){return[...e].map(e=>JSON.parse(e))}function i(e){return function e(t){if("number"==typeof t)return t.toString();if("object"!=typeof t||null===t)return JSON.stringify(t);if(Array.isArray(t)){let r=[];for(let n=0;n<t.length;n++){let i=e(t[n])||JSON.stringify(null);r.push(i)}return`[${r.join(",")}]`}{let r=Object.keys(t).sort(),n=[];for(let i=0;i<r.length;i++){let s=r[i];n.push(`${JSON.stringify(s)}:${e(t[s])}`)}return`{${n.join(",")}}`}}(function(e){let t={...e.secId};return Object.keys(t).forEach(e=>!t[e]&&delete t[e]),{...e,secId:t}}(e))}r.d(t,{v:()=>n,z:()=>i})},483108:function(e,t,r){r.d(t,{X:()=>c});var n=r(286204),i=r(821215),s=r(242291),a=r(314040),o=r(173624),l=r(645952);let c=({marginTop:e=24,marginBottom:t=24})=>(0,n.jsxs)(s.X,{align:"center",verticalAlign:"middle",height:"0.1em",marginTop:e,marginBottom:t,children:[(0,n.jsx)(a.g,{backgroundColor:i.lx.reusableBorderDefault,lineHeight:"0.1em",textAlign:"center",width:"100%",height:"100%"}),(0,n.jsx)(o.x,{display:"block",height:"100%",lineHeight:"0.1em",marginLeft:"20px",marginRight:"20px",whiteSpace:"nowrap",children:(0,n.jsx)(l.Z,{id:"or"})}),(0,n.jsx)(a.g,{backgroundColor:i.lx.reusableBorderDefault,lineHeight:"0.1em",textAlign:"center",width:"100%",height:"100%"})]});c.displayName="OrDivider"},734120:function(e,t,r){r.d(t,{Z:()=>c});var n=r(819260),i=r(703694),s=r(820875),a=r(666306),o=r(259762),l=r(298561);function c(e,t,r){let c=(0,o.mE)(e),d=!(0,o.bq)(e);if(r&&(!c.preventClientOverrides||(0,a.P)())){let t=(0,l.A7)()[e];if(null!=t)return t}if(d&&"boolean"==typeof t)return t;if("string"==typeof t){if(null==t?void 0:t.match(/enabled/iu))return!0;if(null==t?void 0:t.match(/disabled/iu))return!1;if(null==t?void 0:t.match(/^v:/iu)){var h=t;try{if(void 0===i.X.clientVersion||"local"===i.X.clientVersion)return!1;let e=h.substring(2),t=i.X.clientVersion,[r,n]=u(e),[s,a]=u(t);return s>r||s===r&&a>=n}catch(e){(0,s.WC)()&&n.log.error(`Unable to compare currentBuild ${i.X.clientVersion} against minVersion ${h}.`)}return!1}}return c.default}function u(e){var t;return[parseInt(e.split("-")[0],10),parseInt(null!=(t=e.split("-")[1])?t:"1",10)]}},298561:function(e,t,r){r.d(t,{A7:()=>i,B8:()=>a,Iy:()=>l,dy:()=>n,jy:()=>o,oF:()=>c,z4:()=>u});let n="snowflake-internal-client-overrides";function i(){let e=localStorage.getItem(n);return null==e?{}:JSON.parse(e)}function s(e){localStorage.setItem(n,JSON.stringify(e))}function a(e,t){let r=i();r[e]=t,s(r)}function o(){return Object.keys(i()).length>0}function l(){localStorage.removeItem(n)}function c(e,t){if(!t)return;let r=i();Object.keys(e).forEach(t=>{r[t]=e[t]}),s(r)}function u(){let e=new URLSearchParams(window.location.search).get("flags");if(null!=e){let t={};if(""===e)l();else{for(let r of e.split(","))0===r.indexOf("-")?t[r.substring(1)]=!1:t[r]=!0;c(t,!0)}let r=new URL(document.location.href),n=new URLSearchParams(r.search);n.delete("flags"),r.search=n.toString(),window.history.replaceState(null,"",r.toString())}}},946741:function(e,t,r){let n;r.d(t,{_b:()=>c,Mw:()=>u,hf:()=>d});var i=r(867668),s=r(434475),a=r(649707),o=r(790842);let l=!1;function c(e,t,r,i={},d,h=!1,g=!1,p,f="_blank"){var E;let m=(0,o.J)();e=(E=e).includes(".privatelink.")||!t.includes(".privatelink.")?E:t.includes(".int.")?E.replace(/\.int\.snowflakecomputing\./,".privatelink.int.snowflakecomputing.").replace(/\.testdns\.snowflakecomputing\./,".privatelink.testdns.snowflakecomputing.").replace(/:\d+$/,""):E.replace(/\.snowflakecomputing\./,".privatelink.snowflakecomputing."),i.csrf=pageParams.csrfToken,i.url=e,i.windowId=p,r&&(i.classicUIUrl=r);let S=new URL(m.location.href);!t.includes(".privatelink.")||h||(0,a.A)()||(S.host=new URL(t).host),g?i.browserUrl=S.href:i.browserUrl=S.origin,h&&(i.isPopupAuth=!0);let A={accountUrl:e,classicUIUrl:r,state:JSON.stringify(i)},_=t+"/start-oauth/snowflake?"+(0,s.nZ)(A);return(n=d,l||(m.addEventListener("message",function(e){var t;(null==(t=e.data)?void 0:t.source)==="snowflake"&&n(e.data)},!1),l=!0),h)?u(_,700,700,f):void m.location.assign(_)}function u(e,t,r,n="_blank"){let i=(0,o.J)();t||(t=900),r||(r=460);let s=(i.screenLeft||0)+Math.max(Math.floor(i.innerWidth/2-t/2),0),a=(i.screenTop||0)+Math.max(Math.floor(i.innerHeight/2-r/2),0);return i.open(e,n,`toolbar=no, scrollbars=yes, resizable=no, top=${a}, left=${s}, width=${t}, height=${r}`)}function d(e,t){return r=>{let n=(0,o.J)(),{user:a,isSecondaryUser:l,shouldSwitchUser:c,hideFormDialog:u,redirectHome:d,onCompleteSignIn:h}=e;if(r.org&&r.org.appPath)if(a.completeLogin(r.org,r.user,r.appServerUrl,r.region,r.maxSessionAge,!1!==c),l)"function"==typeof u&&u(),"function"==typeof d&&d(),"function"==typeof h&&h(a.toUserKey(r.user.username,r.org.url));else{let e=new URLSearchParams(n.location.search).get("cont")||void 0;n.location=(0,s.T0)(e)?e:r.org.appPath}else null==t||t({sfLoginError:!(r.error&&Object.values(i.AppsErrorCode).includes(r.error))||r.error,classicURL:r.url})}}},64047:function(e,t,r){r.d(t,{O:()=>n});var n,i=r(609588),s=r.n(i);let a=["streamlitSidebarCollapsed","streamlitSidebarWidth","streamlitEditorCollapsed","streamlitAppCollapsed","streamlitAppWidthPercentage","worksheetsSidebarTab","worksheetsSidebarCollapsed","worksheetsSidebarWidth","worksheetsTreeOpenPaths","worksheetsTreeSort"];var o=n||(n={});function l(e,t,r){if(e.user.currentUser){let n=JSON.stringify(r);sessionStorage.setItem(t,n);let i=e.user.currentUser.settings[t];if(!s()(r,i))return e.user.currentUser.settings[t]=r,!0}return!1}o.load=function(e,t){var r,n,i,s;let a=null!=(i=JSON.parse(null!=(n=sessionStorage.getItem(t))?n:"null"))?i:void 0,o=null!=(s=null==(r=e.user.currentUser)?void 0:r.settings[t])?s:void 0;return void 0===a&&void 0!==o&&sessionStorage.setItem(t,JSON.stringify(o)),null!=a?a:o},o.save=async function(e,t,r){l(e,t,r)&&await e.user.saveSettings()},o.saveAll=async function(e,t){let r=!1;for(let[n,i]of Object.entries(t))l(e,n,i)&&(r=!0);r&&await e.user.saveSettings()},o.clearSession=function(){a.forEach(e=>sessionStorage.removeItem(e))}},214009:function(e,t,r){r.d(t,{H:()=>o});var n=r(80127),i=r(468804),s=r(977733),a=r(501925);function o(e){if(void 0===e)return;let t=(0,s.g)(e,"implicit"),r=(0,s.g)(e,"explicit");(t||r)&&n.v.addAction(i.Sht,{hasAllOptionTypeImplicit:t,hasAllOptionTypeExplicit:r}),(0,a.e)(e)&&n.v.addAction(i.rGl)}},977733:function(e,t,r){r.d(t,{g:()=>n});let n=(e,t)=>void 0!==e.find(e=>{var r;return"allOptionType"in e.settings&&(null==(r=e.settings)?void 0:r.allOptionType)===t})},501925:function(e,t,r){r.d(t,{e:()=>n});let n=e=>void 0!==e.find(e=>{var t;return"hasOtherOption"in e.settings&&(null==(t=e.settings)?void 0:t.hasOtherOption)})},259584:function(e,t,r){r.d(t,{$:()=>a});var n=r(286204),i=r(847345),s=r(570096);function a(e,t=s.I){return function(r){return class extends i.PureComponent{constructor(...i){super(...i),this.getWrappedComponent=()=>this.connectorRef.getWrappedComponent(),this.render=()=>(0,n.jsx)(o,{...this.props,ref:e=>this.connectorRef=e,ConnectStoresComponent:r,storesToConnect:e||[],shouldUpdate:t})}}}}class o extends i.PureComponent{storesForProps(e){if(!e.stores||!e.storesToConnect)return;let t={};e.storesToConnect.forEach(e=>{t[e.STORE_ID]=!0});let r={};return Object.entries(e.stores).forEach(([e,n])=>{t[e]&&(r[e]=n)}),r}UNSAFE_componentWillReceiveProps(e){e.stores!==this.props.stores&&(this.stores=this.storesForProps(e))}componentDidMount(){Object.values(this.stores||{}).forEach(e=>{e.__subscribe(this.onStoreChange,this.onAfterStoreChange)}),this.componentRef&&this.componentRef.storesDidSubscribe&&this.componentRef.storesDidSubscribe(this.props.stores)}componentWillUnmount(){this.unmounted=!0,this.componentRef&&this.componentRef.storesWillUnsubscribe&&this.componentRef.storesWillUnsubscribe(this.props.stores),Object.values(this.stores||{}).forEach(e=>{e.__unsubscribe(this.onStoreChange,this.onAfterStoreChange)})}getWrappedComponent(){return this.componentRef}render(){let{ConnectStoresComponent:e,storesToConnect:t,shouldUpdate:r,...i}=this.props;return(0,n.jsx)(e,{ref:e=>this.componentRef=e,stores:this.stores,...i})}constructor(e){super(e),this.onStoreChange=(e,t)=>{!this.unmounted&&this.componentRef&&this.componentRef.storeDidChange&&this.componentRef.storeDidChange(e,this.props.stores,t)},this.onAfterStoreChange=(e,t)=>{!this.unmounted&&this.componentRef&&this.shouldUpdate(e,this.props,t)&&this.componentRef.forceUpdate()},this.stores=this.storesForProps(e),this.shouldUpdate=e.shouldUpdate}}},798102:function(e,t,r){r.d(t,{A:()=>i});var n=r(700577);let i=()=>n.i.UI_ENABLE_BILLING_AND_TERMS_REFACTOR()},440741:function(e,t,r){r.d(t,{R:()=>l});var n=r(434475),i=r(821018),s=r(863712),a=r(256803);function o(e,t){return function(r,n){t(r,n,e)}}class l extends a.n{storesDidBind(e,t){}_normalize(e){return null==e?e:e.trim().toLowerCase()}valid(e){return null==(e=this._normalize(e))||""===e||void 0==this._validatedHostnames[e]?null:this._validatedHostnames[e]}accountRegionUrl(e,t){return this._validatedAccountRegionsResp[`${e}/${t}`]}async validateAccountRegion(e,t){let r=await i.nufetch("/validate-snowflake-account-region?"+n.nZ({account:e,region:t}),this.userRequestContext.requestContext(),void 0,void 0,!1);this._validatedAccountRegionsResp[`${e}/${t}`]=!!r.valid&&{gsLoginUrl:r.url,appServerUrl:r.appServerUrl,classicUIUrl:r.classicUIUrl},this.notify("ACCOUNT_REGION_VALIDATED")}async validateURL(e,t=!1){if(e=this._normalize(e),!0===this._validatedHostnames[e])return void this.notify("HOSTNAME_VALIDATED");if(null!==this._validatedHostnames[e]){try{this._validatedHostnames[e]=null;let r=await i.nufetch("/validate-snowflake-url?"+n.nZ({url:e,isSecondaryAccount:t}),this.userRequestContext.requestContext(),void 0,void 0,!1);this._accountInfo[e]=r,this._validatedHostnames[e]=r.valid}catch(t){delete this._validatedHostnames[e],this.error(t)}this.notify("HOSTNAME_VALIDATED")}}accountInfo(e){return this._accountInfo[this._normalize(e)]||null}constructor(e,t){super(t),this.userRequestContext=e,this.params=t;let r=t.snowflakeHostname;r?this._validatedHostnames={[r]:!0}:this._validatedHostnames={},this._validatedAccountRegionsResp={},this._accountInfo={}}}l.STORE_ID="sfAccountValidation",l=function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a}([(0,s.ri)(),o(0,(0,s.f3)("UserRequestContext")),o(1,(0,s.f3)("PageState"))],l)},631819:function(e,t,r){r.d(t,{U:()=>M});var n=r(80127),i=r(700577),s=r(355084),a=r(992059),o=r(764660),l=r(411733),c=r(434475),u=r(521008),d=r(87656),h=r(821018),g=r(628384),p=r(757693),f=r(865832),E=r(535697),m=r(69446),S=r(304241),A=r(423939),_=r(735377),v=r(703694),U=r(820875),R=r(507857),w=r(863712),I=r(954696),b=r(790842),T=r(449628),y=r(982640),x=r(734120),L=r(650824),O=r(256803),C=r(64047),P=r(214009),k=r(798102);function N(e,t,r){if(!t.has(e))throw TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function D(e,t){var r=N(e,t,"get");return r.get?r.get.call(e):r.value}function F(e,t,r){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object");t.set(e,r)}function j(e,t,r){var n=N(e,t,"set");if(n.set)n.set.call(e,r);else{if(!n.writable)throw TypeError("attempted to set read only private field");n.value=r}return r}function B(e,t){return function(r,n){t(r,n,e)}}let W={canSeeSessionsTab:!1,canSeeNotificationContacts:!1,canSeeNetworkPoliciesTab:!1,canSeeSnowflakeDataMarketplaceBilling:!1,canSeeAccountUsage:!1,canSeeOrgUsage:!1,canSeeBillingPage:!1,canSeeBillingAndPaymentsPage:!1,canSeeSecurityPage:!1,canCreateResourceMonitors:!1,canCreateAccounts:!1,canSeeDataGovernancePage:!1,canSeeSharingSettingPage:!1};var G=new WeakMap,z=new WeakMap;class M extends O.y{storesDidBind(e,t){}get context(){return this.urc}get isGuestUser(){return!this.currentUser}get currentUser(){return this.userForId(this.currentUserId)}get dataExchangeEnabled(){return i.i.UI_FEATURE_PRIVATE_DATA_EXCHANGE_ENABLED()||i.i.UI_ENABLE_PUBLIC_LISTINGS()||i.i.UI_ENABLE_PRIVATE_LISTINGS()}get isSnowparkOptimizedEnabled(){return this.isSnowflakeFeatureEnabled(a.gT.ALLOW_HIGH_MEMORY_WAREHOUSE)}get isBudgetFeatureEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_FEATURE_CG_BUDGET")}get dxHealthCheckEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_FEATURE_DX_HEALTH_CHECK")}get dxAdminUnpublishListingsForPDEEnabled(){return this.isSnowflakeFeatureEnabled(a.gT.SNOWFLAKE_FEATURE_ENABLE_ADMIN_UNPUBLISH_LISTINGS_FOR_PRIVATE_DATA_EXCHANGE)}get navigationRules(){var e;let t=(null==(e=this.currentUser)?void 0:e.availableRoles)||[],r={...W};return this.hasSuperAccountAdminRole&&(r.canSeeDataGovernancePage=!0),this.hasSuperAccountAdminRole&&(r.canSeeAccountUsage=this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_CONSUMPTION_PAGE"),r.canSeeBillingPage=this.creditCardBillingEnabled,r.canSeeNotificationContacts=!0),this.hasSuperAccountAdminRole||t.includes("SECURITYADMIN")?(r.canSeeSessionsTab=!0,r.canSeeNetworkPoliciesTab=!0,r.canSeeSecurityPage=!0,r.canCreateResourceMonitors=!0):t.includes("SYSADMIN"),this.hasSuperOrgAdminRole&&(r.canSeeNotificationContacts=!0,r.canSeeSnowflakeDataMarketplaceBilling=this.dataExchangeEnabled,r.canCreateAccounts=!0,r.canSeeOrgUsage=this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_CONSUMPTION_PAGE")),(this.hasAdminRole||this.canModifyParameters)&&this.isFeatureEnabled(a.gT.LEGACY_SHARING_GRANDFATHERED)&&(r.canSeeSharingSettingPage=!0),r.canSeeBillingAndPaymentsPage=(0,k.A)(),r}get warehouseMaxSize(){return i.i.WAREHOUSE_MAX_SIZE()||"4X-Large"}get regionlessRedirectEnabled(){return this.isSnowflakeFeatureEnabled(a.gT.SNOWFLAKE_FEATURE_UI_SNOWSIGHT_ENABLE_REGIONLESS_REDIRECT)}get privateListingPublishLimit(){return i.i.DATA_EXCHANGE_PRIVATE_LISTING_PUBLISH_LIMIT()}get schemaBrowserEnabled(){return this.isSnowflakeFeatureEnabled(a.gT.SNOWFLAKE_FEATURE_UI_ENABLE_FEATURE_AX_PUPR)}get replicationEnabled(){return this.isSnowflakeFeatureEnabled(a.gT.SNOWFLAKE_FEATURE_ENABLE_ACCOUNT_DATABASE_REPLICATION)}get creditCardBillingEnabled(){return this.isSnowflakeFeatureEnabled(a.gT.CREDIT_CARD_BILLING_ENABLED)}get lineOverlayChartsEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_APEX_FEATURE_1")}get keepTooltipsOnTopEnabled(){return this.isFeatureEnabled(a.gT.KEEP_TOOLTIP_ON_TOP_ENABLED)}get queryTextRoleEnabled(){return this.isFeatureEnabled(a.gT.QUERY_TEXT_ENTITY_MEMBER_ROLE)}get resultDownloadDisabled(){return this.isSnowflakeFeatureEnabled(a.gT.SNOWFLAKE_FEATURE_DISABLE_DOWNLOAD)}get selfPasswordChangeDisabled(){return this.isSnowflakeFeatureEnabled(a.gT.SNOWFLAKE_FEATURE_DISABLE_SELF_PASSWORD_CHANGE)}get supportEnabled(){return this.isSnowflakeFeatureEnabled(a.gT.SNOWFLAKE_FEATURE_UI_ENABLE_SUPPORT)}get supportForTrialAccountsEnabled(){return this.isSnowflakeFeatureEnabled(a.gT.SNOWFLAKE_FEATURE_UI_ENABLE_SUPPORT_FOR_TRIAL_ACCOUNTS)}get npsEnabled(){return this.isSnowflakeFeatureEnabled(a.gT.SNOWFLAKE_FEATURE_UI_ENABLE_NPS)}get learnEnabled(){return this.isSnowflakeFeatureEnabled(a.gT.SNOWFLAKE_FEATURE_UI_ENABLE_LEARN)}get inProductSearchEnabled(){return this.isSnowflakeFeatureEnabled(a.gT.SNOWFLAKE_FEATURE_UI_ENABLE_IN_PRODUCT_SEARCH)}get anacondaEnablementEnabled(){return i.i.UI_ENABLE_FEATURE_ANACONDA_ENABLEMENT()}get cgTaggingEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_FEATURE_CG_TAGGING")}get getStartedPageV2Enabled(){return this.isSnowflakeFeatureEnabled(a.gT.SNOWFLAKE_FEATURE_UI_ENABLE_TRIAL_HOME_PAGE_V2)}get isLandingPageOverrideSetToSnowflake(){return i.i.UI_LANDING_PAGE_OVERRIDE()===a.gT.UI_LANDING_PAGE_SNOWFLAKE_APP}get landingPageParam(){return i.i.UI_LANDING_PAGE()}isFeatureEnabled(e){return this.currentUser&&this.currentUser.settings&&this.currentUser.settings.features&&!!this.currentUser.settings.features[e]||this._stores&&this._stores.organization.isFeatureEnabled(e)}isCanary(){return this.currentBeach()===R._p}isHotfix(){return this.currentBeach()===R.hJ}areLocalOverridesAllowed(){return(0,U.mb)()||(0,U.WC)()||this.isCanary()||this.isHotfix()}isSnowflakeFeatureEnabled(e){let t=this.getSnowflakeParameterRawValue(e);return!0===t||!1===t||void 0===t||l.cM.error(Error(`APPS-9412: Unexpected type (${typeof t}) for parameter ${e}`)),!!t}isUiSpecifiedSnowflakeFeatureEnabled(e){return(0,x.Z)(e,this.getSnowflakeParameterRawValue(e),this.areLocalOverridesAllowed())}getSnowflakeParameterRawValue(e){var t,r,i;let s=null==(i=this.currentUser)||null==(r=i.settings)||null==(t=r.snowflakeFeatures)?void 0:t[e];if(this.parameters){let t=this.parameters[e];if(void 0!==t)return t;void 0===s||D(this,z).has(e)||(D(this,z).add(e),n.v.addAction("parameter-existence-mismatch",{featureName:e}))}return s}isSnowflakeFeatureDefined(e){return this.currentUser&&this.currentUser.settings&&this.currentUser.settings.snowflakeFeatures&&void 0!=this.currentUser.settings.snowflakeFeatures[e]}userForId(e){return this.api.models.users.get(e)}get hasAdminRole(){var e;return null==(e=this.currentUser)?void 0:e.hasAdminRole}get canModifyParameters(){var e;return null==(e=this.currentUser)?void 0:e.canModifyParameters}async saveSettings(){this.currentUser&&(this.notify("USER_SAVE_SETTINGS_STARTED"),await this.api.post({path:"/settings",data:this.currentUser.settings}),this.notify("USER_SAVE_SETTINGS_COMPLETED"))}async updateSettings(e){let t=new FormData;Object.keys(e).forEach(r=>{"avatar"===r?""===e[r].get("avatar")?t.append("clearAvatar",String(!0)):t.append(r,e[r].get("avatar")):"object"==typeof e[r]?t.append(r,JSON.stringify(e[r])):t.append(r,e[r])}),await this.api.post({path:"/settings",data:t}),this.notify("USER_UPDATE_SETTINGS_COMPLETED")}async sendValidationEmail(){await this.api.post({path:"/sendValidationEmail"}),this.notify("USER_EMAIL_VALIDATION_SENT")}async previewProfileImg(e){let t=new FormData;return t.append("avatar",e),(await h.nufetchForm("/avatarPreview",this.api.requestContext(),{method:"POST",body:t})).avatar}async signoutAccount(e){let t,r=!1;try{let n=await this.api.post({path:"/signout-account",data:{},localUpdates:[],requestContext:this.api.requestContext(e.userKey)});n.redirectURL&&(t=n.redirectURL),r=!0}catch(e){l.cM.error(e)}return{success:r,userKey:e.userKey,redirectURL:t}}async signout(){this.signoutInProgress=!0,this.notify("USER_SIGNOUT_STARTED");try{let e=await Promise.all(this.urc.accountsToLogout().map(e=>this.signoutAccount(e)));for(let t of(this.urc.completeLogout(),C.O.clearSession(),e))if(t.redirectURL){window.location.href=t.redirectURL;return}let t=e.filter(e=>!e.success).map(e=>e.userKey);if(t.length)throw Error(`signout failed for ${t.length} accounts (${JSON.stringify(t)})`);this.notify("USER_SIGNOUT_COMPLETE")}catch(e){l.cM.error(e),this.signoutInProgress=!1,this.notify("USER_SIGNOUT_FAILED")}}sortForVirtualFolder(e){var t;return((null==(t=this.currentUser)?void 0:t.settings.virtualFolderSorts)||{})[e]}async setVirtualFolderSort(e,t){this.currentUser&&(this.currentUser.settings.virtualFolderSorts[e]=t,await this.saveSettings())}userPinnedItems(){var e;return this.userPinnedItemsForStr(null==(e=this.currentUser)?void 0:e.settings.pinnedItems)}pinnedItemsStrSet(){return new Set(this.userPinnedItems().map(e=>(0,T.z)(e)))}async updateUserPinnedItemsPin(e){let t=this.pinnedItemsStrSet();t.add((0,T.z)(e));let r=(0,T.v)(t);await this.updateSettings({pinnedItems:r})}async updateUserPinnedItemsUnpin(e){let t=this.pinnedItemsStrSet();t.delete((0,T.z)(e));let r=(0,T.v)(t);await this.updateSettings({pinnedItems:r})}getOpenWorksheetTabs(){var e;return void 0===this.openWorksheetTabs&&(null==(e=this.currentUser)?void 0:e.settings)&&(this.openWorksheetTabs=this.currentUser.settings.openWorksheetPids||[]),[...this.openWorksheetTabs||[]]}isWorksheetTabOpen(e){return this.getOpenWorksheetTabs().includes(e)}updateWorksheetTabs(e,t){if(!e.length){var r;n.v.addAction("WORKSHEET_TABS_CLEAR",{origin:t,previousOpenTabsCount:null==(r=this.openWorksheetTabs)?void 0:r.length})}this.openWorksheetTabs=e,this.updateSettings({openWorksheetPids:e}),this.notify("USER_TABS_UPDATED")}openWorksheetTab(e){if(!this.isWorksheetTabOpen(e)){let t=this.getOpenWorksheetTabs().concat([e]);this.updateWorksheetTabs(t,"open-worksheet-tab")}}closeWorksheetTab(e){if(this.isWorksheetTabOpen(e)){let t=this.getOpenWorksheetTabs().filter(t=>t!==e);this.updateWorksheetTabs(t,"close-worksheet-tab")}}userConnectionSettings(e){var t;return((null==(t=this.currentUser)?void 0:t.settings.connections)||{})[e]||{}}async updateUserConnectionSettings(e,t){if(this.currentUser){let r=this.currentUser.settings.connections||{},n={...r[e]||{}};for(let e in t)n[e]=t[e];let i={...r};i[e]=n,this.currentUser.settings.connections=i,await this.saveSettings()}}currentUserInfo(e){return this.urc.currentUserInfo(e)}__inaccuratelyTypedCurrentUserInfoDoNotUseInNewCode(e){return this.urc.__inaccuratelyTypedCurrentUserInfoDoNotUseInNewCode(e)}userRequestContext(e){return this.urc.requestContext(e)}completeLogin(e,t,r,n,i,s=!0){var a,o,l,c;this.urc.completeLogin({account:e.account,name:e.name,url:e.url,region:n,appServerUrl:r,username:t.username,snowflakeOrgName:(null==(a=e.settings)?void 0:a.snowflakeOrgName)||"",edition:(null==(o=e.settings)?void 0:o.edition)||"",accountAlias:(null==(l=e.settings)?void 0:l.accountAlias)||"",currentDeploymentLocation:null==(c=e.settings)?void 0:c.currentDeploymentLocation},s,i),this.notify("COMPLETED_LOGIN")}toUserKey(e,t){return this.urc.toUserKey(e,t)}sortedUniqueLoggedInAccountsArray(){return this.urc.sortedUniqueLoggedInAccountsArray()}loggedInAccountsList(){return this.urc.loggedInAccountsList()}setBeachCookie(){var e;this.urc.setDefaultBeachCookieForAccount(null==(e=this._stores.organization.activeOrg)?void 0:e.account)}showLoginOptInModal(){if(this.currentUser){var e,t;if((null!=(t=i.i.UI_LANDING_PAGE_OVERRIDE())?t:"")!==a.gT.UI_LANDING_PAGE_SNOWFLAKE_APP&&(null==(e=this.initialUrlQueryParameters)?void 0:e.optInModal)==="true")return!0}return!1}switchPrimaryUser(e,t){return this.urc.switchPrimaryUser(e,t)}clearBeachCookie(){this.beachState.clearBeachCookie()}currentBeach(){return this.beachState.currentBeach()}switchBeachVersion(e,t){return this.urc.switchBeachVersion(e,t)}showBeachBanner(){return this.environ==I.q.staging&&!!this.currentBeach()}showAccountBeachVersion(){if(this.environ==I.q.staging){var e;return!!this.urc.beachCookieForAccount(null==(e=this._stores.organization.activeOrg)?void 0:e.account)}return!!this.currentBeach()}async switchUser(e,t){return await this._stores.analytics.commit(),C.O.clearSession(),this.urc.switchUser(e,t)}isCurrentUser(e){return this.urc.isCurrentUser(e)}isOrgAliasEnabled(){return this.isSnowflakeFeatureEnabled(a.gT.SNOWFLAKE_FEATURE_USE_ORG_AND_ALIAS_FOR_DX)&&this.loggedInAccountsList().every(e=>!!e.snowflakeOrgName)}async fetchBootstrapData(){if(!this.isGuestUser)try{var e,t;let r=await this.api.post({path:"/fetch-bootstrap-data",data:{IncludeClientParameters:!1}});this._stores.organization.setOrg(r.organization),(0,P.H)(null==(t=r.organization)||null==(e=t.settings)?void 0:e.paramConfigs),void 0!==r.clientParameters&&this.updateClientParameters(r.clientParameters,"/fetch-bootstrap-data")}catch(e){this.handleException(e)}}async fetchExtendedBootstrapData(){var e,t,r;let i;if(this.isGuestUser)return void this.loadParameters();try{if(null==(e=v.X.bootstrapFetches)?void 0:e.extendedBootstrapData){let e=await v.X.bootstrapFetches.extendedBootstrapData;e&&e.accountInfo&&e.clientParameters&&e.organization&&(i=e)}}catch(e){n.v.addError(e,{bootstrap:!0})}try{i||(i=await this.api.post({path:"/fetch-extended-bootstrap-data"})),this._stores.organization.setOrg(i.organization),(0,P.H)(null==(r=i.organization)||null==(t=r.settings)?void 0:t.paramConfigs),this.updateAccountInfo(i.accountInfo),void 0!==i.clientParameters&&this.updateClientParameters(i.clientParameters,"/fetch-extended-bootstrap-data")}catch(e){this.handleException(e)}}async loadParameters(){let e;try{var t,r;let n=(null==(t=v.X.bootstrapFetches)?void 0:t.extendedBootstrapData)||(null==(r=v.X.bootstrapFetches)?void 0:r.guestBootstrapData);if(n){let t=await n;(null==t?void 0:t.clientParameters)&&(e={clientParamsInfo:t.clientParameters})}}catch(e){n.v.addError(e,{bootstrap:!0})}try{let t=this.isGuestUser;if(!e){let{data:r}=await this.api.restPassthrough("POST","/request/console/bootstrap-data-request?desc=parameters",{role:"PUBLIC",isJsonBody:!0},{dataKinds:t?["CLIENT_PARAMS_INFO"]:["CLIENT_PARAMS_INFO","ACCOUNT"]});e=r}this.updateAccountInfo(null==e?void 0:e.accountInfo),this.updateClientParameters((null==e?void 0:e.clientParamsInfo)||[],"/request/console/bootstrap-data-request?desc=parameters")}catch(e){this.handleException(e)}}async waitForLoadClientParameters(){return this.loadClientParametersPromise}updateAccountInfo(e){if(e){var t,r;this.regionGroupType=null==(t=(null!=(r=e.availableRegions)?r:[])[e.currentDeploymentLocation])?void 0:t.regionGroupType,n.v.setUserProperty("account_type",e.type),n.v.setUserProperty("trial_status",e.trialStatus)}this.isOnDemandAccount=!!(null==e?void 0:e.onDemandAccount),this.isRestrictedAccount=!!(null==e?void 0:e.restrictedAccount),this.accountOrgDefaultedToSnowsight=!!(null==e?void 0:e.accountOrgDefaultedToSnowsight),this.organizationAccount=!!(null==e?void 0:e.organizationAccount),j(this,G,(null==e?void 0:e.type)==="READER")}updateClientParameters(e,t){let r={},n=void 0===this.parameters||e.length!=Object.keys(this.parameters).length;for(let t of e){r[t.name]=t.value;let e=this.parameters?this.parameters[t.name]:null;n||e===t.value||(n=!0)}let i=s.Z.getInstance();i&&i.updateRemoteFlags(r,t),n&&(this.parameters=r,this.notify("PARAMETERS_LOADED"),this.deprecated_storeSelectParamsForCoreUi()),this.checkCrossRoleSharingFlag(r)}deprecated_storeSelectParamsForCoreUi(){let e=this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_AF_FEATURE_42");window.localStorage.setItem("UI_ENABLE_AF_FEATURE_42",e.toString())}handleException(e){if(this.currentUser)throw e;this.notify("PARAMETERS_LOADED_GUEST_ERROR")}checkCrossRoleSharingFlag(e){if(this.currentUser)!!e[a.gT.SNOWFLAKE_FEATURE_UI_ENABLE_FEATURE_CROSS_ROLE_SHARING]!=!!this.currentUser.settings.snowflakeFeatures[a.gT.SNOWFLAKE_FEATURE_UI_ENABLE_FEATURE_CROSS_ROLE_SHARING]&&this.onParameterOutOfSync()}currentRole(){return this.urc.currentRole()}currentSecondaryRoles(){return this.urc.currentSecondaryRoles()}hasNewPrimaryLoginOccurred(){return this.urc.hasNewPrimaryLoginOccurred()}switchCurrentRole(e){this.urc.switchCurrentRole(e)&&this.notify("USER_ROLE_CHANGED"),this.reduxStore&&this.reduxStore.dispatch((0,y.Tp)(e))}switchCurrentSecondaryRoles(e){this.urc.switchCurrentSecondaryRoles(e),this.notify("USER_SECONDARY_ROLES_CHANGED"),this.reduxStore&&this.reduxStore.dispatch((0,y.Hz)(e))}get hasSuperAccountAdminRole(){var e;return(0,f.i)(null==(e=this.currentUser)?void 0:e.availableRoles)}get isCurrentRoleSuperAccountAdmin(){return(0,S.h)(this.currentRole())}get hasSuperOrgAdminRole(){var e;return(0,E.j)(null==(e=this.currentUser)?void 0:e.availableRoles)}get isCurrentRoleSuperOrgAdmin(){return(0,A.l)(this.currentRole())}get superAccountAdmin(){return(0,g.m)(this.organizationAccount)}get superOrgAdmin(){return(0,p.D)(this.organizationAccount)}get hasSuperSecurityAdminRole(){var e;return(0,m.w)(null==(e=this.currentUser)?void 0:e.availableRoles)}get isCurrentRoleSuperSecurityAdmin(){return(0,_.E)(this.currentRole())}getAccountsForRegion({regionGroup:e,snowflakeRegion:t}){return this.loggedInAccountsList().filter(r=>r.currentDeploymentLocation===`${e}.${t}`)}async downloadWorksheets(e,t=h.nufetch){await t(`/worksheets-download?${(0,c.nZ)({username:e})}`,this.api.requestContext())}get isReaderAccount(){return D(this,G)}get allParameters(){if(this.parameters)return structuredClone(this.parameters)}constructor(e,t,r,n){super(e,t,n),F(this,G,{writable:!0,value:void 0}),F(this,z,{writable:!0,value:void 0}),this.api=e,this.params=t,this.beachState=r,j(this,z,new Set),this.userPinnedItemsForStr=(0,u.default)(e=>{let t=[];try{e&&(t=JSON.parse(e))}catch(e){console.warn("Caught exception trying to parse pinnedItems -- ignoring: ",e)}return t}),this.currentUserId=t.user?String(t.user.id):null,this.urc=t.urc,this.environ=t.environ,this.regionGroupType=t.regionGroupType,this.signoutInProgress=!1,this.initialUrlQueryParameters=d.parse((0,b.J)().location.search),this.isOnDemandAccount=!1,this.isRestrictedAccount=!1,j(this,G,!1),this.accountOrgDefaultedToSnowsight=!1,this.organizationAccount=!1,this.loadClientParametersPromise=new Promise(e=>{this._events.addListener("change",t=>{"PARAMETERS_LOADED"===t&&e()})}),(0,o.U)(e=>{let t=this.getSnowflakeParameterRawValue(e);return"boolean"==typeof t?this.isSnowflakeFeatureEnabled(e):"string"==typeof t&&this.isUiSpecifiedSnowflakeFeatureEnabled(e)})}}M.STORE_ID="user",M=function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a}([(0,w.ri)(),B(0,(0,w.f3)(L.P)),B(1,(0,w.f3)("PageState")),B(2,(0,w.f3)(R.gL)),B(3,(0,w.f3)("ReduxStore"))],M)}}]);
//# sourceMappingURL=66557-432cc63b69b8e3a3.js.map